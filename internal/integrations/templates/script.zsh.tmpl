function wd() {
    # Temporary file for capturing stderr
    local stderr_file=$(mktemp)
    # Run the command, capturing stdout normally and redirecting stderr to the temp file
    local stdout
    stdout=$({{ .BinaryPath }} "$@" 2>"$stderr_file")

    # Check if there was any error output
    if [[ -s "$stderr_file" ]]; then
        local stderr_content
        stderr_content=$(cat "$stderr_file")
        echo "Error: $stderr_content" >&2
        rm -f "$stderr_file"
        return 1
    fi

    # Check if --print-config is in the arguments
    for arg in "$@"; do
        if [[ "$arg" == "--print-config" ]]; then
            # Print the stdout directly and exit
            echo "$stdout"
            rm -f "$stderr_file"
            return 0
        fi
    done

    # Clean up the temp file
    rm -f "$stderr_file"

    # Process stdout if no errors and no --print-config flag
    if [[ -n "$stdout" ]]; then
        eval "$stdout"
    fi
}
